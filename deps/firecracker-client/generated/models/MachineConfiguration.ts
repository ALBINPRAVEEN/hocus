/* tslint:disable */
/* eslint-disable */
/**
 * Firecracker API
 * RESTful public-facing API. The API is accessible through HTTP calls on specific URLs carrying JSON modeled data. The transport medium is a Unix Domain Socket.
 *
 * The version of the OpenAPI document: 1.1.2
 * Contact: compute-capsule@amazon.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

import { exists, mapValues } from '../runtime';
import type { CpuTemplate } from './CpuTemplate';
import {
    CpuTemplateFromJSON,
    CpuTemplateFromJSONTyped,
    CpuTemplateToJSON,
} from './CpuTemplate';

/**
 * Describes the number of vCPUs, memory size, SMT capabilities and the CPU template.
 * @export
 * @interface MachineConfiguration
 */
export interface MachineConfiguration {
    /**
     * 
     * @type {CpuTemplate}
     * @memberof MachineConfiguration
     */
    cpuTemplate?: CpuTemplate;
    /**
     * Flag for enabling/disabling simultaneous multithreading. Can be enabled only on x86.
     * @type {boolean}
     * @memberof MachineConfiguration
     */
    smt?: boolean;
    /**
     * Memory size of VM
     * @type {number}
     * @memberof MachineConfiguration
     */
    memSizeMib: number;
    /**
     * Enable dirty page tracking. If this is enabled, then incremental guest memory snapshots can be created. These belong to diff snapshots, which contain, besides the microVM state, only the memory dirtied since a previous snapshot. Full snapshots each contain a full copy of the guest memory.
     * @type {boolean}
     * @memberof MachineConfiguration
     */
    trackDirtyPages?: boolean;
    /**
     * Number of vCPUs (either 1 or an even number)
     * @type {number}
     * @memberof MachineConfiguration
     */
    vcpuCount: number;
}

/**
 * Check if a given object implements the MachineConfiguration interface.
 */
export function instanceOfMachineConfiguration(value: object): boolean {
    let isInstance = true;
    isInstance = isInstance && "memSizeMib" in value;
    isInstance = isInstance && "vcpuCount" in value;

    return isInstance;
}

export function MachineConfigurationFromJSON(json: any): MachineConfiguration {
    return MachineConfigurationFromJSONTyped(json, false);
}

export function MachineConfigurationFromJSONTyped(json: any, ignoreDiscriminator: boolean): MachineConfiguration {
    if ((json === undefined) || (json === null)) {
        return json;
    }
    return {
        
        'cpuTemplate': !exists(json, 'cpu_template') ? undefined : CpuTemplateFromJSON(json['cpu_template']),
        'smt': !exists(json, 'smt') ? undefined : json['smt'],
        'memSizeMib': json['mem_size_mib'],
        'trackDirtyPages': !exists(json, 'track_dirty_pages') ? undefined : json['track_dirty_pages'],
        'vcpuCount': json['vcpu_count'],
    };
}

export function MachineConfigurationToJSON(value?: MachineConfiguration | null): any {
    if (value === undefined) {
        return undefined;
    }
    if (value === null) {
        return null;
    }
    return {
        
        'cpu_template': CpuTemplateToJSON(value.cpuTemplate),
        'smt': value.smt,
        'mem_size_mib': value.memSizeMib,
        'track_dirty_pages': value.trackDirtyPages,
        'vcpu_count': value.vcpuCount,
    };
}

